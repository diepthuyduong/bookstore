<!--<?xml version='1.0' encoding='UTF-8' ?>-->
<!--<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Admin Users</title>
        <ui:include src="lib/title_admin.xhtml"></ui:include>
    </h:head>
    <h:body class="fixed-top">
        <!-- BEGIN HEADER -->
        <ui:include src="lib/header_admin.xhtml"></ui:include>
        <!-- END HEADER -->
        <!-- BEGIN CONTAINER -->
        <div id="container" class="row-fluid">
            <br/>
            <!--BEGIN MESSAGE REQUEST-->
            <ui:include src="lib/message.xhtml"></ui:include>
            <!--END MESSAGE REQUEST-->
            <!-- BEGIN PAGE CONTAINER-->
            <div class="container-fluid">
                <!-- BEGIN ADVANCED TABLE widget-->
                <div class="row-fluid">
                    <div class="span12">
                        <!-- BEGIN EXAMPLE TABLE widget-->
                        <div class="widget">
                            <ui:include src="lib/menu_responsive.xhtml"></ui:include>
                            <div class="widget-body">
                                <f:view>
                                    <h:form>
                                        <!--BEGIN TABLE-->
                                        <table class="table table-striped table-bordered" id="sample_1">
                                            <button class="btn btn-success"><i class="icon-ok icon-white"></i> Delete All</button>
                                            <thead>
                                                <tr>
                                                    <th style="width:8px;"><input type="checkbox" class="group-checkable" data-set="#sample_1 .checkboxes" /></th>
                                                    <th>STT</th>
                                                    <th>Tên đăng nhập</th>
                                                    <th>Họ tên</th>
                                                    <th>Địa chỉ</th>
                                                    <th>Điện thoại</th>
                                                    <th>Email</th>
                                                    <th>Ngày cập nhật</th>
                                                    <th>Trạng thái</th>
                                                    <th>Loại tài khoản</th>
                                                    <th class="hidden-phone" style="width: 200px;">
                                                        <h:commandLink class="btn btn-warning" action="userInsert" actionListener="#{usersMB.resetInsert()}"><i class="icon-plus icon-white"></i> Create</h:commandLink>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ui:repeat value="#{usersMB.allUsers()}" var="in" varStatus="number">

                                                    <tr class="odd gradeX">
                                                        <td><input type="checkbox" class="checkboxes" value="1" /></td>
                                                        <td><h:outputText value="#{number.index}"></h:outputText></td>
                                                        <td><h:outputText value="#{in.UAccount}"></h:outputText></td>
                                                        <td><h:outputText value="#{in.UName}"></h:outputText></td>                                                        
                                                        <td><h:outputText value="#{in.UAddress}"></h:outputText></td>
                                                        <td><h:outputText value="#{in.UPhone}"></h:outputText></td>
                                                        <td><h:outputText value="#{in.UEmail}"></h:outputText></td>
                                                        <td><h:outputText value="#{in.UAdddate}"></h:outputText></td>
                                                        <td style="vertical-align: middle">
                                                            <c:choose>
                                                                <c:when test="#{in.UStatus eq 1}"><img src="../img/like.png" /></c:when>
                                                                <c:otherwise><img src="../img/locked.png" /></c:otherwise>
                                                            </c:choose>
                                                        </td>  
                                                        <td>
                                                            <c:choose>
                                                                <c:when test="#{in.UPermiss eq 1}">Quản trị</c:when>
                                                                <c:otherwise>Nhân viên</c:otherwise>
                                                            </c:choose>
                                                        </td>  

                                                        <td class="hidden-phone">
                                                            <h:commandLink styleClass="btn btn-inverse" action="userUpdate" actionListener="#{usersMB.updateUser(in.UAccount, in.UName, in.UAddress, in.UEmail, in.UPhone, in.UAdddate, in.UPermiss, in.UStatus)}"><i class="icon-refresh icon-white"></i> Update</h:commandLink>
                                                            <h:commandLink styleClass="btn btn-danger" action="#{usersMB.deleteUser(in.UId)}" onclick="return confirm('Bạn có chắn chắn xóa không?')"><i class="icon-remove icon-white"></i>Delete</h:commandLink>
                                                        </td>
                                                    </tr>
                                                </ui:repeat>
                                            </tbody>
                                        </table>
                                        <!--END TABLE-->
                                    </h:form>
                                </f:view>
                            </div>
                        </div>
                        <!-- END EXAMPLE TABLE widget-->
                    </div>
                </div>
                <!-- END ADVANCED TABLE widget-->
            </div>
            <!-- END PAGE CONTAINER-->
        </div>
        <!-- END PAGE -->

        <!-- BEGIN FOOTER -->
        <ui:include src="lib/footer_admin.xhtml"></ui:include>
        <!-- END FOOTER -->
        <!-- BEGIN JAVASCRIPTS -->
        <ui:include src="lib/script.xhtml"></ui:include>
    </h:body>
</html>
